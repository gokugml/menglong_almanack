# Bilibili 创作者与粉丝体量测算 - 数据规范 v1

## 项目概述
- **项目名称**: Bilibili 各分区粉丝与创作者体量测算 + "脚本依赖度"洞察
- **分析时间窗**: 2024-11-01 至 2025-10-31 (滚动近12个月)
- **创建日期**: 2025-11-05
- **数据收集日期**: 2025-11-05

## 核心指标定义

### 1. 分区体系 (Category System)
- **主要来源**: Bilibili 开放平台分区查询接口
- **辅助校验**: 社区整理的分区ID清单
- **分区层级**: 一级分区 + 二级分区
- **字段映射**:
  - `tid`: 分区ID (官方标识符)
  - `tname`: 分区名称
  - `parent_tid`: 父分区ID (一级分区为0)
  - `parent_name`: 父分区名称

### 2. 活跃创作者定义 (Active Creators)
- **活跃标准**: 统计期内发布 ≥1 条视频且账号状态正常
- **数据字段**:
  - `uid`: UP主唯一标识符
  - `username`: UP主用户名
  - `followers_count`: 当前粉丝数
  - `category_tid`: 主要投稿分区
  - `last_video_date`: 最近投稿时间
  - `video_count_12m`: 近12个月投稿数量

### 3. 粉丝总数计算口径

#### 口径A: 累加口径 (Aggregate Fans)
- **定义**: 各分区活跃创作者当前粉丝数直接加总
- **特点**: 存在重复计数 (同一粉丝关注多个UP主)
- **用途**: 平台规模展示的常用口径

#### 口径B: 去重估计 (Deduplicated Estimate)
- **保守估计**: 使用70%去重系数 (假设30%粉丝重叠)
- **激进估计**: 使用85%去重系数 (假设15%粉丝重叠)
- **计算公式**: 去重粉丝数 = 口径A × 去重系数
- **依据**: 社交媒体用户行为研究的经验数据

### 4. "爱看程度"综合指数 (Popularity Index)

#### 计算公式
```
Z = 0.5 × 播放量百分位 + 0.3 × 互动率百分位 + 0.2 × 上榜频次百分位
```

#### 维度定义
- **播放量百分位**: 分区内视频播放量的分位数排名
- **互动率百分位**: (点赞+投币+收藏+分享) / 播放量 的分位数排名
- **上榜频次百分位**: 近12个月进入热门榜单的视频数量占比

### 5. 脚本依赖指数 (Script Dependence Index, SDI)

#### 评分维度 (1-5分制)
1. **叙事复杂度 (N)**: 内容逻辑层次与结构化程度
2. **信息密度 (I)**: 单位时间内信息传递量
3. **口播占比 (V)**: 语言表达在内容中的重要性
4. **结构化程度 (S)**: 分镜/剪辑的规划性要求
5. **可替代性 (R)**: 即兴替代的难易程度 (解释性维度)

#### 计算公式
```
SDI = 0.25 × N + 0.25 × I + 0.25 × V + 0.25 × S
```

#### 依赖程度分级
- **1-2分**: 低脚本依赖 (游戏实况、生活记录等)
- **3分**: 中等脚本依赖 (测评、简单教学等)
- **4-5分**: 高脚本依赖 (深度解析、复杂教程等)

## 数据来源与获取策略

### 主要数据源
1. **官方分区信息**
   - 来源: Bilibili 开放平台分区查询
   - 获取方式: API调用
   - 更新频率: 项目开始时获取一次

2. **创作者数据**
   - 主要来源: 飞瓜数据B站版、火烧云数据
   - 获取方式: 网页抓取 (遵守robots.txt)
   - 样本目标: 每个分区至少100个活跃创作者
   - 备选来源: Apify Bilibili抓取器、JustOneAPI

3. **视频热度数据**
   - 来源: 第三方榜单平台的热门视频列表
   - 获取方式: 网页抓取
   - 样本目标: 每个分区近12个月至少50个热门视频

### 数据质量保证
- **时间戳**: 所有数据记录抓取时间
- **来源标记**: 标注数据具体来源页面
- **异常处理**: 记录缺失值和异常值处理方式
- **去重策略**: 基于UID和视频BV号去重

## 输出文件结构

### 原始数据 (/outputs/raw/)
- `categories_YYYYMMDD.csv`: 分区清单
- `creators_by_category_YYYYMMDD.csv`: 创作者详细信息
- `videos_by_category_YYYYMMDD.csv`: 热门视频数据
- `scraping_log_YYYYMMDD.txt`: 抓取日志

### 清洗数据 (/outputs/clean/)
- `category_rollups.csv`: 分区汇总指标
- `top5_tracks_analysis.csv`: Top5赛道详细分析
- `sdi_scores.csv`: 脚本依赖指数评分

### 脚本文件 (/outputs/scripts/)
- `scraper.py`: 数据抓取脚本
- `analyzer.py`: 数据分析脚本
- `requirements.txt`: Python依赖包列表
- `run.sh`: 一键运行脚本

## 数据局限性与风险

### 已知局限
1. **样本偏倚**: 第三方平台榜单可能不能完全代表全平台情况
2. **时效性**: 粉丝数等指标为抓取时点数据，存在时间差
3. **权限限制**: 部分平台数据需要登录或付费获取
4. **重复计数**: 口径A存在粉丝重复计数问题

### 风险缓解措施
1. **多源验证**: 使用多个数据源交叉验证
2. **敏感性分析**: 对关键参数进行敏感性测试
3. **透明化**: 明确标注数据来源和处理方法
4. **区间估计**: 提供保守和激进两种估计结果

## 合规与伦理考虑
- 仅抓取公开可访问的页面内容
- 遵守各网站的robots.txt协议
- 遵循适当的抓取频率，避免对服务器造成压力
- 数据仅用于学术研究和分析，不用于商业用途
- 保护个人隐私，不泄露具体用户信息

## 版本更新记录
- **v1.0** (2025-11-05): 初始版本，定义核心指标和数据规范